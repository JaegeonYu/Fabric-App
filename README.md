# Hyperledger-network

## ê°œë°œë°°ê²½ ë° ëª©ì 
ë¸”ë¡ì²´ì¸ì€ ê°œì¸ ê°„ ê±°ë˜ ì •ë³´ë¥¼ ì¤‘ì•™ ì„œë²„ê°€ ì•„ë‹Œ ëª¨ë“  ì°¸ê°€ìë“¤ì˜ ë„¤íŠ¸ì›Œí¬ì— ê³µìœ  í•˜ëŠ” â€˜ë¶„ì‚°í˜• ë””ì§€í„¸ ì¥ë¶€â€™ ê¸°ìˆ ì´ë‹¤.
ì´ ê¸°ìˆ ì€ ê±°ë˜ ì •ë³´ë¥¼ ì•”í˜¸í™”ëœ ê°œë³„ ë¸”ë¡ìœ¼ë¡œ ì²´ì¸í˜•ì‹ìœ¼ë¡œ ì—®ì–´ ëª¨ë“  ì°¸ê°€ìë“¤ì—ê²Œ ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤.
ì´ëŸ° íŠ¹ì§•ì„ ê°–ê³  ìˆì–´ ë¸”ë¡ì²´ì¸ì€ í•´ì»¤ì™€ ê°™ì€ ì•…ì˜ì ì¸ ìœ ì €ê°€ í•œ ë¸”ë¡ì— ì¹¨íˆ¬í•˜ë”ë¼ë„ ë‚˜ë¨¸ì§€ ë¸”ë¡ ëª¨ë‘ ìœ„ë³€ì¡°í•˜ê¸°ê°€ ì–´ë ¤ì›Œ ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ì£¼ëª©ì„ ë°›ê³  ë³¸ì¸ì¸ì¦ ì‹œì— ë§ì´ ì“°ì´ê³  ìˆë‹¤.
ë˜, ìš”ì¦˜ ìì‹  ëª…ì˜ì˜ í•¸ë“œí° ì† ì•±ì„ ì´ìš©í•œ ì‹ ì›ì¸ì¦ì´ë‹¤. í•˜ì§€ë§Œ í•˜ë“œì›¨ì–´ì— ì •ë³´ê°€ ì €ì¥ë˜ì–´ ìˆì–´ ë†’ì€ í•˜ë“œì›¨ì–´ ì˜ì¡´ì„±ì„ ê°–ê³ ìˆë‹¤. ì‚¬ìš©ìë“¤ì˜ ì§€ë¬¸ê³¼ ê°™ì€ ìƒì²´ ì •ë³´ë¥¼ ë¸”ë¡ì²´ì¸ ë‚´ë¶€ì— ì €ì¥í•´ ë‘ê³ , ì¸ì¦í•  ë•Œë§ˆë‹¤ ì‚¬ìš©í•˜ë©´ ì•„ë‚ ë¡œê·¸ ì§€ê°‘ì˜ í•„ìš”ì„±ê³¼ í•˜ë“œì›¨ì–´ì˜ ì˜ì¡´ì„±ì´ ì‘ì•„ì§€ê³  ë³´ì•ˆì—ë„ ê°•í•œ ë³¸ì¸ì¸ì¦ì´ ê°€ëŠ¥í•  ê²ƒ ê°™ì•„ ì§„í–‰í•˜ê²Œ ëë‹¤.


## ê°œë°œí™˜ê²½ ë° ê°œë°œì–¸ì–´
1. Go - 1.16.5 linux/amd64
2. Hyperledger Fabric Chaincode 
3. Finger print image compare  - Python 2.7, 3.7
4. Node - 12.22.10
5. Docker - 20.10.12
6. Docker Compose - 1.27.2

## ì‹œìŠ¤í…œ êµ¬ì„±
![image](https://user-images.githubusercontent.com/76714219/190954793-6fc688dc-6f1c-4379-8eae-66621eef6f94.png)


## í”„ë¡œì íŠ¸ ì£¼ìš” ê¸°ëŠ¥
![image](https://user-images.githubusercontent.com/76714219/190954950-3d1f7681-fbf6-4059-9f20-7c3044eb9412.png)

1. íšŒì›ê°€ì…
í•˜ì´í¼ ë ˆì € í˜ë¸Œë¦­(ë¸”ë¡ì²´ì¸) ë„¤íŠ¸ì›Œí¬ì— ë§Œë“¤ì–´ì„œ ë°°í¬ëœ ì²´ì¸ì½”ë“œ(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™)ëŠ” NoSQL DBì— ì›í•˜ëŠ” DBë¥¼ ë¹¼ì˜¤ê¸° ìœ„í•œ ê³ ì •ë§ì¶¤ ì¿¼ë¦¬ë¬¸ì„ ë°°í¬í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤. ì•±ì—ì„œ íšŒì›ê°€ì… í•  ì‚¬ìš©ìì˜ ID, ì´ë¦„, ë‚˜ì´, ê±°ì£¼ì§€, ì§€ë¬¸ ì´ë¯¸ì§€ ë“±ì„ ë°›ì•„ì˜¤ë©´ ë¸”ë¡ì²´ì¸(DB) ë‚´ì— ì¤‘ë³µë˜ì§€ ì•Šìœ¼ë©´ íšŒì›ê°€ì… í•œë‹¤.

2. ë¡œê·¸ì¸(ì‹ ì›ì¸ì¦)
ì„œë²„ëŠ” ì•±ì—ì„œ ìœ ì € IDì™€ ì§€ë¬¸ ì´ë¯¸ì§€ë¥¼ ë°›ìœ¼ë©´ ë¸”ë¡ì²´ì¸ ë‚´ í•´ë‹¹ IDì˜ ì§€ë¬¸ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•œë‹¤. ì„œë²„ì—ì„œ ì•±ì—ì„œ ë°›ì€ ë¡œê·¸ì¸í•˜ë ¤ëŠ” ì´ë¯¸ì§€ì™€ ë¸”ë¡ì²´ì¸ì—ì„œ ë°›ì€ íšŒì›ê°€ì… ì‹œì˜ ì´ë¯¸ì§€ë¥¼ ì¸ê³µì§€ëŠ¥ ëª¨ë¸ë¡œ ë¹„êµí•œ í›„ ì¼ì • ì •í™•ë„ ì´ìƒì´ ì¼ì¹˜í•˜ë©´ í•´ë‹¹ IDì˜ ì¸ì¦ì •ë³´(í˜„ì¬ëŠ” ì„±ì¸ì¸ì¦ì—¬ë¶€)ë¥¼ ë°˜í™˜í•˜ê³  ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ë¶ˆì¼ì¹˜ ì—¬ë¶€ë¥¼ ë°˜í™˜í•œë‹¤.


## ì˜¤í”ˆì†ŒìŠ¤ ì¶œì²˜
https://github.com/hyperledger/fabric-samples

## ğŸš€ ê¸°ëŠ¥ ëª©ë¡
### app.js (apiserver)
- [x] port open to http request, response
- [x] route open
- [x] administrate request
### app.py (AI apiserver)
- [x] port open
- [x] get compare image
- [x] Image Pretreatment
    - [x] increase brightness
    - [x] image resize
    - [x] image color change to gray
    - [x] image const change
    - [x] image fillter with adaptive thresh gaussian
- [x] compare block chain fingerprint and appliciont fingerprint
### fabinfo.js (chaincode)
- [x] query to member sign up 
- [x] query to get fingerprint image
- [x] query to get memeber is adult or not
- [x] query to get memebr's school
### addInfo.js (Sign up)
- [x] receive sing up member information
- [x] if already member, get error response
- [x] check block chain permission user
- [x] execute query to member information save block chain
- [x] response sing up result
### queryFinger.js
- [x] check block chain permission user
- [x] execute query to get fingerprint image at block chain
- [x] save block chain image to server
### queryAuth.js
- [x] check block chain permission user
- [x] execute query to get member is audlt or not
- [x] response member age certification
### querySchool.js
- [x] check block chain permission user
- [x] execute query to get member's school
- [x] response member school certification
### upload.js (Log in)
- [x] check block chain permission user
- [x] receive user's fingerprint and member_id
- [x] get fingerprint image from block chain 
- [x] create request AI server to compare image
- [x] if user correct, after additional certification continue
- [x] if user uncorrect, create exception response
- [x] delete fingerprint images
- [x] response app certification result